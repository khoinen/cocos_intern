{"version":3,"sources":["assets/Scripts/ComingSoon.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Data from \"./Data\";\n\n\n\nconst {ccclass, property} = cc._decorator;\nconst tween = cc.tween;\n\n@ccclass\nexport default class ComingSoon extends cc.Component {\n\n    @property(cc.Node)\n    text: cc.Node = null;\n\n    @property(cc.Label)\n    money: cc.Label = null;\n\n    private _gameManager = null;\n    private _data = null;\n\n    start(): void {\n        this._gameManager = cc.find(\"Canvas/GameManager\").getComponent(\"GameManager\");\n    }\n    \n    onHome(): void {\n        this._gameManager.onHome();\n        this.node.active = false;\n    }\n\n    onReplay(): void {\n        this._gameManager.onReplay();\n        this.node.active = false;\n    }\n\n    onEnable(): void {\n        this.text.scale = 7;\n        this.text.opacity = 0;\n        tween(this.text).parallel(\n                tween().to(1, {scale: 1}, {easing: \"cubicIn\"}),\n                tween().to(1, {opacity: 255}, {easing: \"cubicIn\"})\n            )\n            .start();\n        Data.getData(Data.FACEBOOK_KEY, (err, data) => {\n            this._data = data\n            this.money.string = this._data.money;\n        });\n        // tween(this.node).delay(1)\n        //     .call(() => {\n        //         this.addMoney(150);\n        //     })\n        //     .start();\n    }\n\n    addMoney(money: number): void {\n        const direction = money < 0 ? -1 : 1\n\n        if (money == 0)\n        {\n            return;\n        }\n        else \n        {\n            tween(this.money.node).repeat(money * direction / 3,\n                tween().call(() => {\n                    this.money.string = (parseInt(this.money.string) + 3 * direction).toString();\n                })\n                .delay(0.03)\n            )\n            .call(() => {\n                Data.getData(Data.FACEBOOK_KEY, (err, data) => {\n                    this._data = data\n                    this._data.money += money;\n                    this.money.string = this._data.money;\n                    Data.saveData(this._data, Data.FACEBOOK_KEY);\n                });\n            })\n            .start();\n        }\n    }\n}\n"]}