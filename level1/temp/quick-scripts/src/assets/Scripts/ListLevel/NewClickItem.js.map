{"version":3,"sources":["assets/Scripts/ListLevel/NewClickItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\nexport enum STATUS {\n    UNLOCK,\n    LOCK,\n    CURRENT\n}\n\n@ccclass\nexport default class NewClickItem extends cc.Component {\n\n    @property(cc.Node)\n    tick: cc.Node = null;\n\n    @property(cc.Sprite)\n    frame: cc.Sprite = null;\n\n    @property(cc.Node)\n    bigNumber: cc.Node = null;\n    \n    @property(cc.Node)\n    smallNumber: cc.Node = null;\n\n    @property([cc.SpriteFrame])\n    image: cc.SpriteFrame[] = [];\n\n    isClick = false;\n\n    private _status = STATUS.LOCK;\n    private _view;\n    private _count = 0;\n    onLoad(): void {\n        this._view = this.node.parent.parent.parent;\n    }\n\n    onClick(event: cc.Event.EventCustom): void {\n        if (this.isClick)\n        {\n            let _event = new cc.Event.EventCustom(\"click_item\", true);\n            let level = this.node.parent.children.indexOf(this.node);\n            let content = this.node.parent.parent;\n            let pageNumber = content.children.indexOf(this.node.parent);\n            _event.level = 10 * pageNumber + level;\n            this.node.dispatchEvent(_event);\n        }\n    }\n\n    setLevel(level: any): void {\n        this.frame.node.getChildByName(\"smallNumber\").getComponent(cc.Label).string = level;\n        this.frame.node.getChildByName(\"bigNumber\").getComponent(cc.Label).string = level;\n    }\n\n    setStatus(status: STATUS): void {\n        this._status = status;\n        switch (status)\n        {\n            case STATUS.UNLOCK:\n                this.frame.spriteFrame = this.image[0];\n                this.smallNumber.active = true;\n                this.bigNumber.active = false;\n                this.smallNumber.color = new cc.Color(255, 255, 255, 255);\n                this.smallNumber.getComponent(cc.LabelOutline).color = new cc.Color(40, 40, 40, 102);\n                break;\n            case STATUS.CURRENT:\n                this.frame.spriteFrame = this.image[1];\n                this.smallNumber.active = false;\n                this.bigNumber.active = true;\n                this.bigNumber.color = new cc.Color(255, 255, 255, 255);\n                this.bigNumber.getComponent(cc.LabelOutline).color = new cc.Color(83, 44, 0, 102);\n                break;\n            case STATUS.LOCK:\n                this.frame.spriteFrame = this.image[2];\n                this.smallNumber.active = false;\n                this.bigNumber.active = true;\n                this.bigNumber.color = new cc.Color(141, 141, 141, 255);\n                this.bigNumber.getComponent(cc.LabelOutline).color = new cc.Color(40, 40, 40, 102);\n                break;\n        }\n    }\n\n    localConvertWorldPointAR(node) {\n        if (node) {\n            return node.convertToWorldSpaceAR(cc.v2(0, 0));\n        }\n        return null;\n    }\n\n    worldConvertLocalPointAR(node, worldPoint) {\n        if (node) {\n            return node.convertToNodeSpaceAR(worldPoint);\n        }\n        return null;\n    }\n\n    convetOtherNodeSpaceAR(node, targetNode) {\n        if (!node || !targetNode) {\n            return null;\n        }\n        let worldPoint = this.localConvertWorldPointAR(node);\n        return this.worldConvertLocalPointAR(targetNode, worldPoint);\n    }\n    \n    update(dt): void {\n        let pos = this.convetOtherNodeSpaceAR(this.node, this._view);\n        if (this.node.name == \"item1\") {\n            (pos.x < -500 || pos.x > 500) ? this.node.opacity = 0 : this.node.opacity = 255;\n        }\n        else {\n            (pos.x < -750 || pos.x > 750) ? this.node.opacity = 0 : this.node.opacity = 255;\n        }\n    }\n}\n"]}