
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/EffectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '651ccMOV4lP5YZQYpu0DX8S', 'EffectManager');
// Scripts/EffectManager.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var tween = cc.tween;
var EffectManager = /** @class */ (function (_super) {
    __extends(EffectManager, _super);
    function EffectManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    //Làm scene tối dần, khi tối hoàn toàn sẽ gọi callback để chuyển cảnh
    EffectManager.hideScene = function (callback, node) {
        if (callback === void 0) { callback = null; }
        if (node === void 0) { node = null; }
        var shadow = cc.find("Canvas/Shadow");
        if (shadow) {
            if (callback) {
                tween(shadow).to(0.4, { opacity: 255 }).call(function () {
                    callback(node);
                }.bind(this)).start();
            }
        }
    };
    //Làm scene sáng dần
    EffectManager.showScene = function (callback) {
        if (callback === void 0) { callback = null; }
        var shadow = cc.find("Canvas/Shadow");
        if (shadow) {
            tween(shadow).to(0.4, { opacity: 0 }).start();
        }
    };
    EffectManager.effectFail = function () {
        var shadow = cc.find("Canvas/Shadow");
        var fail = cc.find("Canvas/Fail");
        if (shadow && fail) {
            tween(shadow).to(0.2, { opacity: 150, }, { easing: "cubicOut" }).start();
            tween(fail).to(0.2, { scale: 1, opacity: 255 }, { easing: "cubicOut" }).start();
        }
    };
    EffectManager.effectSuccess = function () {
        var shadow = cc.find("Canvas/Shadow");
        var success = cc.find("Canvas/Success");
        if (shadow && success) {
            tween(shadow).to(0.2, { opacity: 150, }, { easing: "cubicOut" }).start();
            tween(success).to(0.2, { scale: 0.7, opacity: 255 }, { easing: "cubicOut" }).start();
        }
    };
    //Hiệu ứng scale to ra
    EffectManager.effectScaleOption = function (node, timeScale) {
        node.active = true;
        node.scale = 0;
        tween(node).to(timeScale, { scale: 1, opacity: 255 }, { easing: "backOut" }).start();
    };
    EffectManager.effectHideButton = function (node, timeScale) {
        tween(node).to(timeScale, { scale: 0, opacity: 0 }, { easing: "backOut" }).start();
    };
    //Hiển thị/Ẩn các option
    EffectManager.showUI = function (isShow) {
        cc.find("Canvas/Level").active = isShow;
        cc.find("Canvas/OptionContainer").active = isShow;
    };
    //Hiệu ứng nhấy nháy
    EffectManager.flicker = function (node, times) {
        tween(node).repeat(times, tween().to(0.05, { opacity: 0 }).delay(0.1).to(0.05, { opacity: 255 })).start();
    };
    //Hiển thị tick xanh ở Option người chơi chọn
    EffectManager.showTick = function (option, node) {
        if (node === void 0) { node = null; }
        if (node)
            node.getChildByName("TrueAnswer").active = true;
        else
            cc.find("Canvas/Level/Line/TrueAnswer").active = true;
        var optionContainer = cc.find("Canvas/OptionContainer").getChildByName("option" + (option + 1));
        switch (option) {
            case 0:
                optionContainer.getChildByName("tick").active = true;
                break;
            case 1:
                optionContainer.getChildByName("tick").active = true;
                break;
            case 2:
                optionContainer.getChildByName("tick").active = true;
            default:
                break;
        }
    };
    //Hiển thị X ở Option người chơi chọn
    EffectManager.showX = function (option, node) {
        if (node === void 0) { node = null; }
        if (node)
            node.getChildByName("FalseAnswer").active = true;
        else
            cc.find("Canvas/Level/Line/FalseAnswer").active = true;
        var optionContainer = cc.find("Canvas/OptionContainer").getChildByName("option" + (option + 1));
        switch (option) {
            case 0:
                optionContainer.getChildByName("x").active = true;
                break;
            case 1:
                optionContainer.getChildByName("x").active = true;
                break;
            case 2:
                optionContainer.getChildByName("x").active = true;
            default:
                break;
        }
    };
    //Hiệu ứng tiền bay
    EffectManager.effectFlyMoney = function (child, parent) {
        var tempNode = [];
        for (var i = 0; i < 11; ++i) {
            var node = cc.instantiate(child);
            tempNode.push(node);
            parent.addChild(node);
        }
        var ui = cc.find("Canvas/UI");
        var _ui = ui.getComponent("UIController");
        var point = ui.convertToNodeSpaceAR(_ui.point.convertToWorldSpaceAR(ui));
        tween(tempNode[0]).to(1, { position: cc.v3(-110, 50) }, { easing: "quintOut" }).delay(0).bezierTo(0.5, cc.v2(-110, 50), cc.v2(-120, 350), cc.v2(point)).delay(0.2).call(function () {
            tempNode[0].active = false;
            tempNode[0].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[1]).to(1, { position: cc.v3(-52, 143) }, { easing: "quintOut" }).delay(0.05).bezierTo(0.5, cc.v2(-52, 143), cc.v2(-65, 310), cc.v2(point)).delay(0.2).call(function () {
            tempNode[1].active = false;
            tempNode[1].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[2]).to(1, { position: cc.v3(-240, 114) }, { easing: "quintOut" }).delay(0.05).bezierTo(0.5, cc.v2(-240, 114), cc.v2(-310, 300), cc.v2(point)).delay(0.2).call(function () {
            tempNode[2].active = false;
            tempNode[2].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[3]).to(1, { position: cc.v3(100, 200) }, { easing: "quintOut" }).delay(0.01).bezierTo(0.5, cc.v2(100, 200), cc.v2(305, 210), cc.v2(point)).delay(0.2).call(function () {
            tempNode[3].active = false;
            tempNode[3].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[4]).to(1, { position: cc.v3(165, 202) }, { easing: "quintOut" }).delay(0.1).bezierTo(0.5, cc.v2(165, 202), cc.v2(360, 310), cc.v2(point)).delay(0.2).call(function () {
            tempNode[4].active = false;
            tempNode[4].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[5]).to(1, { position: cc.v3(102, 280) }, { easing: "quintOut" }).delay(0.1).bezierTo(0.5, cc.v2(102, 280), cc.v2(111, 400), cc.v2(point)).delay(0.2).call(function () {
            tempNode[5].active = false;
            tempNode[5].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[6]).to(1, { position: cc.v3(208, 105) }, { easing: "quintOut" }).delay(0.15).bezierTo(0.5, cc.v2(208, 105), cc.v2(360, 142), cc.v2(point)).delay(0.2).call(function () {
            tempNode[6].active = false;
            tempNode[6].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[7]).to(1, { position: cc.v3(-193, -169) }, { easing: "quintOut" }).delay(0.15).bezierTo(0.5, cc.v2(-193, -169), cc.v2(-322, 40), cc.v2(point)).delay(0.2).call(function () {
            tempNode[7].active = false;
            tempNode[7].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[8]).to(1, { position: cc.v3(-100, -215) }, { easing: "quintOut" }).delay(0.2).bezierTo(0.5, cc.v2(-100, -215), cc.v2(127, -280), cc.v2(point)).delay(0.2).call(function () {
            tempNode[8].active = false;
            tempNode[8].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[9]).to(1, { position: cc.v3(71, -121) }, { easing: "quintOut" }).delay(0.2).bezierTo(0.5, cc.v2(71, -121), cc.v2(330, -88), cc.v2(point)).delay(0.2).call(function () {
            tempNode[9].active = false;
            tempNode[9].position = cc.v3(0, 0);
        }).start();
        tween(tempNode[10]).to(1, { position: cc.v3(35, -2) }, { easing: "quintOut" }).delay(0.025).bezierTo(0.5, cc.v2(35, -2), cc.v2(0, 0), cc.v2(point)).delay(0.2).call(function () {
            tempNode[10].active = false;
            tempNode[10].position = cc.v3(0, 0);
        }).start();
    };
    //Button dần hiện ra
    EffectManager.showButton = function (node, timeScale) {
        node.active = true;
        node.scale = 0;
        node.opacity = 0;
        tween(node).to(timeScale, { scale: 1, opacity: 255 }, { easing: "quadIn" }).start();
    };
    //Hiệu ứng nút to nhỏ liên tục
    EffectManager.scaleForever = function (node, min, max, timeScale) {
        if (min === void 0) { min = null; }
        if (max === void 0) { max = null; }
        if (timeScale === void 0) { timeScale = null; }
        if (!(min && max && timeScale)) {
            cc.Tween.stopAllByTarget(node);
            return;
        }
        node.active = true;
        node.scale = 1;
        node.opacity = 0;
        tween(node).to(timeScale, { scale: max, opacity: 255 })
            .repeatForever(tween().to(timeScale, { scale: min }).to(timeScale, { scale: max })).start();
    };
    //Hiệu ứng nút Tap To Start đầu game
    EffectManager.effectScaleStart = function (node) {
        node.active = true;
        tween(node).to(0.25, { scale: 0.95 }, { easing: "backOut" })
            .repeatForever(tween().to(0.8, { scale: 0.95 }, { easing: "backOut" })
            .delay(0.4)
            .to(0.8, { scale: 1.05 }, { easing: "backOut" })
            .delay(0.4))
            .start();
    };
    EffectManager.effectScaleButton = function (node, x, y, duration) {
        node.active = true;
        node.opacity = 255;
        tween(node).parallel(tween().to(duration, { scaleX: x + 0.1 }, { easing: "cubicOut" }).to(0.3, { scaleX: x }), tween().to(duration, { scaleY: y + 0.1 }, { easing: "cubicOut" }).to(0.3, { scaleY: y })).start();
    };
    EffectManager = __decorate([
        ccclass
    ], EffectManager);
    return EffectManager;
}(cc.Component));
exports.default = EffectManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHRzL0VmZmVjdE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztBQUd2QjtJQUEyQyxpQ0FBWTtJQUF2RDs7SUF5TkEsQ0FBQztJQXZORyxxRUFBcUU7SUFDOUQsdUJBQVMsR0FBaEIsVUFBaUIsUUFBZSxFQUFFLElBQW9CO1FBQXJDLHlCQUFBLEVBQUEsZUFBZTtRQUFFLHFCQUFBLEVBQUEsV0FBb0I7UUFDbEQsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN0QyxJQUFJLE1BQU0sRUFDVjtZQUNJLElBQUksUUFBUSxFQUNaO2dCQUNJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUMsT0FBTyxFQUFFLEdBQUcsRUFBQyxDQUFDLENBQUMsSUFBSSxDQUFDO29CQUN2QyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ25CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUN6QjtTQUNKO0lBQ0wsQ0FBQztJQUVELG9CQUFvQjtJQUNiLHVCQUFTLEdBQWhCLFVBQWlCLFFBQWU7UUFBZix5QkFBQSxFQUFBLGVBQWU7UUFDNUIsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN0QyxJQUFJLE1BQU0sRUFDVjtZQUNJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUMsS0FBSyxFQUFF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QUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFekUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2hLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDbEssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDM0IsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUN0QyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNYLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNySyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUMzQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3RDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1gsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2xLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDakssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDM0IsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUN0QyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNYLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNqSyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUMzQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3RDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1gsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2xLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ3RLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ3RLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVB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LEdBQUcsRUFBRSxFQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUNyRixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUF4TmdCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0F5TmpDO0lBQUQsb0JBQUM7Q0F6TkQsQUF5TkMsQ0F6TjBDLEVBQUUsQ0FBQyxTQUFTLEdBeU50RDtrQkF6Tm9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5jb25zdCB0d2VlbiA9IGNjLnR3ZWVuO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWZmZWN0TWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICAvL0zDoG0gc2NlbmUgdOG7kWkgZOG6p24sIGtoaSB04buRaSBob8OgbiB0b8OgbiBz4bq9IGfhu41pIGNhbGxiYWNrIMSR4buDIGNodXnhu4NuIGPhuqNuaFxuICAgIHN0YXRpYyBoaWRlU2NlbmUoY2FsbGJhY2sgPSBudWxsLCBub2RlOiBjYy5Ob2RlID0gbnVsbCkgOiB2b2lkIHtcbiAgICAgICAgdmFyIHNoYWRvdyA9IGNjLmZpbmQoXCJDYW52YXMvU2hhZG93XCIpO1xuICAgICAgICBpZiAoc2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHdlZW4oc2hhZG93KS50bygwLjQsIHtvcGFjaXR5OiAyNTV9KS5jYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhub2RlKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL0zDoG0gc2NlbmUgc8OhbmcgZOG6p25cbiAgICBzdGF0aWMgc2hvd1NjZW5lKGNhbGxiYWNrID0gbnVsbCkgOiB2b2lkIHtcbiAgICAgICAgdmFyIHNoYWRvdyA9IGNjLmZpbmQoXCJDYW52YXMvU2hhZG93XCIpO1xuICAgICAgICBpZiAoc2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB0d2VlbihzaGFkb3cpLnRvKDAuNCwge29wYWNpdHk6IDB9KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgXG4gICAgc3RhdGljIGVmZmVjdEZhaWwoKSA6IHZvaWQge1xuICAgICAgICB2YXIgc2hhZG93ID0gY2MuZmluZChcIkNhbnZhcy9TaGFkb3dcIik7XG4gICAgICAgIHZhciBmYWlsID0gY2MuZmluZChcIkNhbnZhcy9GYWlsXCIpO1xuICAgICAgICBpZiAoc2hhZG93ICYmIGZhaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR3ZWVuKHNoYWRvdykudG8oMC4yLCB7b3BhY2l0eTogMTUwLCB9LCB7ZWFzaW5nOiBcImN1YmljT3V0XCJ9KS5zdGFydCgpO1xuICAgICAgICAgICAgdHdlZW4oZmFpbCkudG8oMC4yLCB7c2NhbGU6IDEsIG9wYWNpdHk6IDI1NX0sIHtlYXNpbmc6IFwiY3ViaWNPdXRcIn0pLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZWZmZWN0U3VjY2VzcygpIDogdm9pZCB7XG4gICAgICAgIHZhciBzaGFkb3cgPSBjYy5maW5kKFwiQ2FudmFzL1NoYWRvd1wiKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBjYy5maW5kKFwiQ2FudmFzL1N1Y2Nlc3NcIik7XG4gICAgICAgIGlmIChzaGFkb3cgJiYgc3VjY2VzcylcbiAgICAgICAge1xuICAgICAgICAgICAgdHdlZW4oc2hhZG93KS50bygwLjIsIHtvcGFjaXR5OiAxNTAsIH0sIHtlYXNpbmc6IFwiY3ViaWNPdXRcIn0pLnN0YXJ0KCk7XG4gICAgICAgICAgICB0d2VlbihzdWNjZXNzKS50bygwLjIsIHtzY2FsZTogMC43LCBvcGFjaXR5OiAyNTV9LCB7ZWFzaW5nOiBcImN1YmljT3V0XCJ9KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vSGnhu4d1IOG7qW5nIHNjYWxlIHRvIHJhXG4gICAgc3RhdGljIGVmZmVjdFNjYWxlT3B0aW9uKG5vZGU6IGNjLk5vZGUsIHRpbWVTY2FsZTogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIG5vZGUuc2NhbGUgPSAwO1xuICAgICAgICB0d2Vlbihub2RlKS50byh0aW1lU2NhbGUsIHtzY2FsZTogMSwgb3BhY2l0eTogMjU1fSwge2Vhc2luZzogXCJiYWNrT3V0XCJ9KS5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBlZmZlY3RIaWRlQnV0dG9uKG5vZGU6IGNjLk5vZGUsIHRpbWVTY2FsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHR3ZWVuKG5vZGUpLnRvKHRpbWVTY2FsZSwge3NjYWxlOiAwLCBvcGFjaXR5OiAwfSwge2Vhc2luZzogXCJiYWNrT3V0XCJ9KS5zdGFydCgpO1xuICAgIH1cblxuICAgIC8vSGnhu4NuIHRo4buLL+G6qG4gY8OhYyBvcHRpb25cbiAgICBzdGF0aWMgc2hvd1VJKGlzU2hvdzogYm9vbGVhbikgOiB2b2lkIHtcbiAgICAgICAgY2MuZmluZChcIkNhbnZhcy9MZXZlbFwiKS5hY3RpdmUgPSBpc1Nob3c7XG4gICAgICAgIGNjLmZpbmQoXCJDYW52YXMvT3B0aW9uQ29udGFpbmVyXCIpLmFjdGl2ZSA9IGlzU2hvdztcbiAgICB9XG5cbiAgICAvL0hp4buHdSDhu6luZyBuaOG6pXkgbmjDoXlcbiAgICBzdGF0aWMgZmxpY2tlcihub2RlOiBjYy5Ob2RlLCB0aW1lczogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0d2Vlbihub2RlKS5yZXBlYXQodGltZXMsIHR3ZWVuKCkudG8oMC4wNSwge29wYWNpdHk6IDB9KS5kZWxheSgwLjEpLnRvKDAuMDUsIHtvcGFjaXR5OiAyNTV9KSkuc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvL0hp4buDbiB0aOG7iyB0aWNrIHhhbmgg4bufIE9wdGlvbiBuZ8aw4budaSBjaMahaSBjaOG7jW5cbiAgICBzdGF0aWMgc2hvd1RpY2sob3B0aW9uOiBudW1iZXIsIG5vZGU6IGNjLk5vZGUgPSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlKVxuICAgICAgICAgICAgbm9kZS5nZXRDaGlsZEJ5TmFtZShcIlRydWVBbnN3ZXJcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhcy9MZXZlbC9MaW5lL1RydWVBbnN3ZXJcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9wdGlvbkNvbnRhaW5lciA9IGNjLmZpbmQoXCJDYW52YXMvT3B0aW9uQ29udGFpbmVyXCIpLmdldENoaWxkQnlOYW1lKFwib3B0aW9uXCIgKyAob3B0aW9uICsgMSkpO1xuICAgICAgICBzd2l0Y2ggKG9wdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbkNvbnRhaW5lci5nZXRDaGlsZEJ5TmFtZShcInRpY2tcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBvcHRpb25Db250YWluZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0aWNrXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgb3B0aW9uQ29udGFpbmVyLmdldENoaWxkQnlOYW1lKFwidGlja1wiKS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vSGnhu4NuIHRo4buLIFgg4bufIE9wdGlvbiBuZ8aw4budaSBjaMahaSBjaOG7jW5cbiAgICBzdGF0aWMgc2hvd1gob3B0aW9uOiBudW1iZXIsIG5vZGU6IGNjLk5vZGUgPSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlKVxuICAgICAgICAgICAgbm9kZS5nZXRDaGlsZEJ5TmFtZShcIkZhbHNlQW5zd2VyXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNjLmZpbmQoXCJDYW52YXMvTGV2ZWwvTGluZS9GYWxzZUFuc3dlclwiKS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBvcHRpb25Db250YWluZXIgPSBjYy5maW5kKFwiQ2FudmFzL09wdGlvbkNvbnRhaW5lclwiKS5nZXRDaGlsZEJ5TmFtZShcIm9wdGlvblwiICsgKG9wdGlvbiArIDEpKTtcbiAgICAgICAgc3dpdGNoIChvcHRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25Db250YWluZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ4XCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgb3B0aW9uQ29udGFpbmVyLmdldENoaWxkQnlOYW1lKFwieFwiKS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIG9wdGlvbkNvbnRhaW5lci5nZXRDaGlsZEJ5TmFtZShcInhcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL0hp4buHdSDhu6luZyB0aeG7gW4gYmF5XG4gICAgc3RhdGljIGVmZmVjdEZseU1vbmV5KGNoaWxkOiBjYy5QcmVmYWIsIHBhcmVudDogY2MuTm9kZSk6IHZvaWQge1xuICAgICAgICB2YXIgdGVtcE5vZGUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGNoaWxkKTtcbiAgICAgICAgICAgIHRlbXBOb2RlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdWkgPSBjYy5maW5kKFwiQ2FudmFzL1VJXCIpO1xuICAgICAgICBsZXQgX3VpID0gdWkuZ2V0Q29tcG9uZW50KFwiVUlDb250cm9sbGVyXCIpO1xuICAgICAgICBsZXQgcG9pbnQgPSB1aS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihfdWkucG9pbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHVpKSk7XG5cbiAgICAgICAgdHdlZW4odGVtcE5vZGVbMF0pLnRvKDEsIHtwb3NpdGlvbjogY2MudjMoLTExMCwgNTApfSwge2Vhc2luZzogXCJxdWludE91dFwifSkuZGVsYXkoMCkuYmV6aWVyVG8oMC41LCBjYy52MigtMTEwLCA1MCksIGNjLnYyKC0xMjAsIDM1MCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzBdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcE5vZGVbMF0ucG9zaXRpb24gPSBjYy52MygwLCAwKVxuICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB0d2Vlbih0ZW1wTm9kZVsxXSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygtNTIsIDE0Myl9LCB7ZWFzaW5nOiBcInF1aW50T3V0XCJ9KS5kZWxheSgwLjA1KS5iZXppZXJUbygwLjUsIGNjLnYyKC01MiwgMTQzKSwgY2MudjIoLTY1LCAzMTApLCBjYy52Mihwb2ludCkpLmRlbGF5KDAuMikuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICB0ZW1wTm9kZVsxXS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRlbXBOb2RlWzFdLnBvc2l0aW9uID0gY2MudjMoMCwgMClcbiAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgdHdlZW4odGVtcE5vZGVbMl0pLnRvKDEsIHtwb3NpdGlvbjogY2MudjMoLTI0MCwgMTE0KX0sIHtlYXNpbmc6IFwicXVpbnRPdXRcIn0pLmRlbGF5KDAuMDUpLmJlemllclRvKDAuNSwgY2MudjIoLTI0MCwgMTE0KSwgY2MudjIoLTMxMCwgMzAwKSwgY2MudjIocG9pbnQpKS5kZWxheSgwLjIpLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgdGVtcE5vZGVbMl0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0ZW1wTm9kZVsyXS5wb3NpdGlvbiA9IGNjLnYzKDAsIDApXG4gICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIHR3ZWVuKHRlbXBOb2RlWzNdKS50bygxLCB7cG9zaXRpb246IGNjLnYzKDEwMCwgMjAwKX0sIHtlYXNpbmc6IFwicXVpbnRPdXRcIn0pLmRlbGF5KDAuMDEpLmJlemllclRvKDAuNSwgY2MudjIoMTAwLCAyMDApLCBjYy52MigzMDUsIDIxMCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzNdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcE5vZGVbM10ucG9zaXRpb24gPSBjYy52MygwLCAwKVxuICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB0d2Vlbih0ZW1wTm9kZVs0XSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygxNjUsIDIwMil9LCB7ZWFzaW5nOiBcInF1aW50T3V0XCJ9KS5kZWxheSgwLjEpLmJlemllclRvKDAuNSwgY2MudjIoMTY1LCAyMDIpLCBjYy52MigzNjAsIDMxMCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzRdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcE5vZGVbNF0ucG9zaXRpb24gPSBjYy52MygwLCAwKVxuICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB0d2Vlbih0ZW1wTm9kZVs1XSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygxMDIsIDI4MCl9LCB7ZWFzaW5nOiBcInF1aW50T3V0XCJ9KS5kZWxheSgwLjEpLmJlemllclRvKDAuNSwgY2MudjIoMTAyLCAyODApLCBjYy52MigxMTEsIDQwMCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzVdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcE5vZGVbNV0ucG9zaXRpb24gPSBjYy52MygwLCAwKVxuICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB0d2Vlbih0ZW1wTm9kZVs2XSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygyMDgsIDEwNSl9LCB7ZWFzaW5nOiBcInF1aW50T3V0XCJ9KS5kZWxheSgwLjE1KS5iZXppZXJUbygwLjUsIGNjLnYyKDIwOCwgMTA1KSwgY2MudjIoMzYwLCAxNDIpLCBjYy52Mihwb2ludCkpLmRlbGF5KDAuMikuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICB0ZW1wTm9kZVs2XS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRlbXBOb2RlWzZdLnBvc2l0aW9uID0gY2MudjMoMCwgMClcbiAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgdHdlZW4odGVtcE5vZGVbN10pLnRvKDEsIHtwb3NpdGlvbjogY2MudjMoLTE5MywgLTE2OSl9LCB7ZWFzaW5nOiBcInF1aW50T3V0XCJ9KS5kZWxheSgwLjE1KS5iZXppZXJUbygwLjUsIGNjLnYyKC0xOTMsIC0xNjkpLCBjYy52MigtMzIyLCA0MCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzddLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcE5vZGVbN10ucG9zaXRpb24gPSBjYy52MygwLCAwKVxuICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB0d2Vlbih0ZW1wTm9kZVs4XSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygtMTAwLCAtMjE1KX0sIHtlYXNpbmc6IFwicXVpbnRPdXRcIn0pLmRlbGF5KDAuMikuYmV6aWVyVG8oMC41LCBjYy52MigtMTAwLCAtMjE1KSwgY2MudjIoMTI3LCAtMjgwKSwgY2MudjIocG9pbnQpKS5kZWxheSgwLjIpLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgdGVtcE5vZGVbOF0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0ZW1wTm9kZVs4XS5wb3NpdGlvbiA9IGNjLnYzKDAsIDApXG4gICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIHR3ZWVuKHRlbXBOb2RlWzldKS50bygxLCB7cG9zaXRpb246IGNjLnYzKDcxLCAtMTIxKX0sIHtlYXNpbmc6IFwicXVpbnRPdXRcIn0pLmRlbGF5KDAuMikuYmV6aWVyVG8oMC41LCBjYy52Mig3MSwgLTEyMSksIGNjLnYyKDMzMCwgLTg4KSwgY2MudjIocG9pbnQpKS5kZWxheSgwLjIpLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgdGVtcE5vZGVbOV0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0ZW1wTm9kZVs5XS5wb3NpdGlvbiA9IGNjLnYzKDAsIDApXG4gICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIHR3ZWVuKHRlbXBOb2RlWzEwXSkudG8oMSwge3Bvc2l0aW9uOiBjYy52MygzNSwgLTIpfSwge2Vhc2luZzogXCJxdWludE91dFwifSkuZGVsYXkoMC4wMjUpLmJlemllclRvKDAuNSwgY2MudjIoMzUsIC0yKSwgY2MudjIoMCwgMCksIGNjLnYyKHBvaW50KSkuZGVsYXkoMC4yKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRlbXBOb2RlWzEwXS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRlbXBOb2RlWzEwXS5wb3NpdGlvbiA9IGNjLnYzKDAsIDApXG4gICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLy9CdXR0b24gZOG6p24gaGnhu4duIHJhXG4gICAgc3RhdGljIHNob3dCdXR0b24obm9kZTogY2MuTm9kZSwgdGltZVNjYWxlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBub2RlLnNjYWxlID0gMDtcbiAgICAgICAgbm9kZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdHdlZW4obm9kZSkudG8odGltZVNjYWxlLCB7c2NhbGU6IDEsIG9wYWNpdHk6IDI1NX0sIHtlYXNpbmc6IFwicXVhZEluXCJ9KS5zdGFydCgpO1xuICAgIH1cblxuICAgIC8vSGnhu4d1IOG7qW5nIG7DunQgdG8gbmjhu48gbGnDqm4gdOG7pWNcbiAgICBzdGF0aWMgc2NhbGVGb3JldmVyKG5vZGU6IGNjLk5vZGUsIG1pbjogbnVtYmVyID0gbnVsbCwgbWF4OiBudW1iZXIgPSBudWxsLCB0aW1lU2NhbGU6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgaWYgKCEobWluICYmIG1heCAmJiB0aW1lU2NhbGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQobm9kZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBub2RlLnNjYWxlID0gMTtcbiAgICAgICAgbm9kZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdHdlZW4obm9kZSkudG8odGltZVNjYWxlLCB7c2NhbGU6IG1heCwgb3BhY2l0eTogMjU1fSlcbiAgICAgICAgLnJlcGVhdEZvcmV2ZXIoXG4gICAgICAgICAgICB0d2VlbigpLnRvKHRpbWVTY2FsZSwge3NjYWxlOiBtaW59KS50byh0aW1lU2NhbGUsIHtzY2FsZTogbWF4fSlcbiAgICAgICAgKS5zdGFydCgpO1xuICAgIH1cblxuICAgIC8vSGnhu4d1IOG7qW5nIG7DunQgVGFwIFRvIFN0YXJ0IMSR4bqndSBnYW1lXG4gICAgc3RhdGljIGVmZmVjdFNjYWxlU3RhcnQobm9kZTogY2MuTm9kZSk6IHZvaWQge1xuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHR3ZWVuKG5vZGUpLnRvKDAuMjUsIHtzY2FsZTogMC45NX0sIHtlYXNpbmc6IFwiYmFja091dFwifSlcbiAgICAgICAgICAgICAgICAucmVwZWF0Rm9yZXZlcihcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4oKS50bygwLjgsIHtzY2FsZTogMC45NX0sIHtlYXNpbmc6IFwiYmFja091dFwifSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZWxheSgwLjQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG8oMC44LCB7c2NhbGU6MS4wNX0sIHtlYXNpbmc6IFwiYmFja091dFwifSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZWxheSgwLjQpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBlZmZlY3RTY2FsZUJ1dHRvbihub2RlOiBjYy5Ob2RlLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IHZvaWQge1xuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIG5vZGUub3BhY2l0eSA9IDI1NTtcbiAgICAgICAgdHdlZW4obm9kZSkucGFyYWxsZWwoXG4gICAgICAgICAgICAgICAgdHdlZW4oKS50byhkdXJhdGlvbiwge3NjYWxlWDogeCArIDAuMX0sIHtlYXNpbmc6IFwiY3ViaWNPdXRcIn0pLnRvKDAuMywge3NjYWxlWDogeH0pLFxuICAgICAgICAgICAgICAgIHR3ZWVuKCkudG8oZHVyYXRpb24sIHtzY2FsZVk6IHkgKyAwLjF9LCB7ZWFzaW5nOiBcImN1YmljT3V0XCJ9KS50bygwLjMsIHtzY2FsZVk6IHl9KVxuICAgICAgICAgICAgKS5zdGFydCgpO1xuICAgIH1cbn1cbiJdfQ==