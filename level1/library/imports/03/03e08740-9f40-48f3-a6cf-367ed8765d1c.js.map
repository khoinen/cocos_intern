{"version":3,"sources":["assets/Levels/Level19/Script/Level19_2.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAAmD;AAE7C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,IAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;AAEvB,IAAK,KAWJ;AAXD,WAAK,KAAK;IACN,mCAAK,CAAA;IACL,qCAAM,CAAA;IACN,mCAAK,CAAA;IACL,mCAAK,CAAA;IACL,mCAAK,CAAA;IACL,2CAAS,CAAA;IACT,2CAAS,CAAA;IACT,qCAAM,CAAA;IACN,qCAAM,CAAA;IACN,mCAAK,CAAA;AACT,CAAC,EAXI,KAAK,KAAL,KAAK,QAWT;AAGD;IAAuC,6BAAS;IAAhD;;IAwHA,CAAC;IAnHG,6BAAS,GAAT;QACI,iBAAM,SAAS,WAAE,CAAC;QAClB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,6BAAS,GAAT;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,6BAA6B,EAAE,IAAI,CAAC,CAAC;IAC9F,CAAC;IAED,6BAAS,GAAT;QAAA,iBAWC;QAVG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QACtC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC;aAChE,IAAI,CAAC;YACF,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YACtC,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC;iBAC1D,IAAI,CAAC;gBACF,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QACnB,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,8BAAU,GAAV;QAAA,iBAcC;QAbG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC;aACvD,IAAI,CAAC;YACF,KAAI,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;YAC3B,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,0BAA0B,EAAE,KAAK,CAAC,CAAC;YAC9D,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,UAAA,KAAK;gBAChC,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,IAAI,0BAA0B,EAAE;oBACpD,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;oBACrC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC/B,KAAI,CAAC,QAAQ,EAAE,CAAC;iBACnB;YACL,CAAC,CAAC,CAAA;QACN,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,8BAAU,GAAV;QAAA,iBA2BC;QA1BG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC;aACvD,IAAI,CAAC;YACF,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACxE,KAAI,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;YAC3B,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,uBAAuB,EAAE,KAAK,CAAC,CAAC;YAC3D,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YACxC,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5B,IAAI,CAAC;gBACF,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACpD,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC;gBAC7B,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;gBACxC,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,kCAAkC,EAAE,KAAK,CAAC,CAAC;gBACxE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAA,KAAK;oBAClC,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,IAAI,kCAAkC,EAAE;wBAC5D,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;6BACtB,IAAI,CAAC;4BACF,KAAI,CAAC,MAAM,EAAE,CAAC;wBAClB,CAAC,CAAC;6BACD,KAAK,EAAE,CAAC;qBAChB;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC;iBACD,KAAK,EAAE,CAAC;QACjB,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,8BAAU,GAAV;QAAA,iBAgBC;QAfG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAC,CAAC;aACvD,IAAI,CAAC;YACF,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,uBAAuB,EAAE,KAAK,CAAC,CAAC;YAC3D,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,UAAA,KAAK;gBAChC,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,IAAI,uBAAuB,EAAE;oBACjD,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;oBACrC,KAAI,CAAC,QAAQ,EAAE,CAAC;iBACnB;YACL,CAAC,CAAC,CAAA;QACN,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAsBC;QArBG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YACtB,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YACvC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YACtC,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,kCAAkC,EAAE,KAAK,CAAC,CAAC;YACxE,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAA,KAAK;gBAClC,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,IAAI,kCAAkC,EAAE;oBAC5D,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;oBACvC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBAChC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;oBAC1C,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;oBACnD,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,iCAAiC,EAAE,KAAK,CAAC,CAAC;oBACvE,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;yBACpB,IAAI,CAAC;wBACF,KAAI,CAAC,YAAY,EAAE,CAAC;oBACxB,CAAC,CAAC;yBACD,KAAK,EAAE,CAAC;iBAChB;YACL,CAAC,CAAC,CAAA;QACN,CAAC,CAAC;YACF,gCAAgC;aAC/B,KAAK,EAAE,CAAC;IACjB,CAAC;IAvHgB,SAAS;QAD7B,OAAO;OACa,SAAS,CAwH7B;IAAD,gBAAC;CAxHD,AAwHC,CAxHsC,mBAAS,GAwH/C;kBAxHoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import LevelBase from \"../../../Scripts/LevelBase\";\n\nconst {ccclass, property} = cc._decorator;\nconst tween = cc.tween;\n\nenum SOUND {\n    DIZZY,\n    SWOOSH,\n    WATER,\n    BOAT1,\n    BOAT2,\n    EXPLOSION,\n    KNIFE_HIT,\n    SCREAM,\n    SQUIRT,\n    THROW\n}\n\n@ccclass\nexport default class Level19_2 extends LevelBase {\n\n    private _police;\n    private _light;\n\n    initStage(): void {\n        super.initStage();\n        this.setStatus();\n        this.setAction();\n    }\n\n    setStatus(): void {\n        this._police = this.otherSpine[0];\n        this._light = this.otherSprite[0];\n        this._light.node.position = cc.v3(-510, -130);\n        this._light.node.active = false;\n        this.lupin.clearTrack(1);\n        this.setLupin(cc.v2(-1000, -470), \"level_19_2/mc_idle\", null);\n        this.setOtherSpine(this._police, cc.v2(-1000, -675), \"police/level_19_2/idle_cano\", null);\n    }\n\n    setAction(): void {\n        this.playSound(SOUND.BOAT1, false, 1);\n        tween(this.lupin.node).delay(1).to(0.8, {position: cc.v3(160, -165)})\n            .call(() => {\n                this.playSound(SOUND.BOAT2, false, 0);\n                tween(this._police.node).to(0.6, {position: cc.v3(-320, -390)})\n                    .call(() => {\n                        this.showOptionContainer(true);\n                    }).start();\n            })\n            .start();\n    }\n\n    runOption1(): void {\n        tween(this.lupin.node).to(0.5, {position: cc.v3(260, -365)})\n            .call(() => {\n                this.lupin.timeScale = 1.5;\n                this.lupin.setAnimation(0, \"level_19_2/mc_flashlight\", false);\n                this.lupin.setCompleteListener(track => {\n                    if (track.animation.name == \"level_19_2/mc_flashlight\") {\n                        this.lupin.setCompleteListener(null);\n                        this._light.node.active = true;\n                        this.canoFail();\n                    }\n                })\n            })\n            .start();\n    }\n\n    runOption2(): void {\n        tween(this.lupin.node).to(0.8, {position: cc.v3(460, -345)})\n            .call(() => {\n                tween(this._police.node).to(0.5, {position: cc.v3(-400, -320)}).start();\n                this.lupin.timeScale = 1.5;\n                this.lupin.setAnimation(0, \"level_19_2/mc_ca_kiem\", false);\n                this.playSound(SOUND.THROW, false, 0.8);\n                tween(this._police.node).delay(1)\n                    .call(() => {\n                        this.lupin.setAnimation(1, \"emotion/happy_2\", true);\n                        this._police.timeScale = 1.5;\n                        this.playSound(SOUND.KNIFE_HIT, false, 0);\n                        this.playSound(SOUND.WATER, false, 0.7);\n                        this._police.setAnimation(0, \"police/level_19_2/option2_cakiem\", false);\n                        this._police.setCompleteListener(track => {\n                            if (track.animation.name == \"police/level_19_2/option2_cakiem\") {\n                                tween(this.node).delay(0.5)\n                                    .call(() => {\n                                        this.onPass();\n                                    })\n                                    .start();\n                            }\n                        })\n                    })\n                    .start();\n            })\n            .start();\n    }\n\n    runOption3(): void {\n        tween(this.lupin.node).to(0.8, {position: cc.v3(260, -365)})\n            .call(() => {\n                this.playSound(SOUND.SQUIRT, false, 1.2);\n                this.playSound(SOUND.SQUIRT, false, 1.4);\n                this.playSound(SOUND.SQUIRT, false, 1.6);\n                this.playSound(SOUND.SQUIRT, false, 1.8);\n                this.lupin.setAnimation(0, \"level_19_2/mc_con_muc\", false);\n                this.lupin.setCompleteListener(track => {\n                    if (track.animation.name == \"level_19_2/mc_con_muc\") {\n                        this.lupin.setCompleteListener(null);\n                        this.canoFail();\n                    }\n                })\n            })\n            .start();\n    }\n\n    canoFail(): void {\n        tween(this._police.node).call(() => {\n                this.playSound(SOUND.SCREAM, false, 0);\n                this.playSound(SOUND.BOAT2, false, 0);\n                this._police.setAnimation(0, \"police/level_19_2/option1_denpin\", false);\n                this._police.setCompleteListener(track => {\n                    if (track.animation.name == \"police/level_19_2/option1_denpin\") {\n                        this._police.setCompleteListener(null);\n                        this._light.node.active = false;\n                        this.playSound(SOUND.EXPLOSION, false, 0);\n                        this.lupin.setAnimation(0, \"fx/explosive2\", false);\n                        this._police.setAnimation(0, \"police/level_19_2/cano_dam_nhau\", false);\n                        tween(this.node).delay(1)\n                            .call(() => {\n                                this.showContinue();\n                            })\n                            .start();\n                    }\n                })\n            })\n            // .to(0.5, {position: cc.v3()})\n            .start();\n    }\n}\n"]}