{"version":3,"sources":["assets/Scripts/LevelBase.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import EffectManager from \"./EffectManager\";\nimport EventManager from \"./EventManager\";\nimport GameManager from \"./GameManager\";\nimport {SOUND} from \"./GameManager\";\nimport Data from \"./Data\";\nimport BundleManager from \"./BundleManager\";\n\n\nconst {ccclass, property} = cc._decorator;\n\nvar optionContainer = null;\nvar optionController = null;\nvar ui = null;\nconst tween = cc.tween;\n\nexport const TOTAL_LEVEL = 19;\n\n@ccclass\nexport default class LevelBase extends cc.Component {\n\n    //Set level hiện tại cho màn chơi [0, 1,...,Max_level - 1]\n    @property\n    levelCurrent = 0;\n\n    //Số stage trong 1 level\n    //Dùng để hiển thị số gạch ngang xuất hiện giữa 2 nhãn level [0, 1, 2,....]\n    @property\n    numberStage = 0;\n\n    //Dùng để hiển thị màu xanh các stage đã qua\n    @property\n    stageCurrent = 0;\n\n    //Node này sẽ được active = true khi \n    @property(cc.Node)\n    public sceneBegin: cc.Node = null;\n\n    @property([cc.Prefab])\n    public sceneOption0: cc.Prefab[] = [];\n\n    @property([cc.Prefab])\n    public sceneOption1: cc.Prefab[] = [];\n\n    @property([cc.Prefab])\n    public sceneOption2: cc.Prefab[] = [];;\n\n    @property(cc.Node)\n    background: cc.Node = null;\n\n    @property(cc.Prefab)\n    money: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    line: cc.Prefab = null;\n\n    @property(sp.Skeleton)\n    lupin: sp.Skeleton = null;\n\n    @property([sp.Skeleton])\n    otherSpine: sp.Skeleton[] = [];\n\n    @property([cc.Sprite])\n    otherSprite: cc.Sprite[] = [];\n\n    @property([cc.SpriteFrame])\n    iconOption: cc.SpriteFrame[] = [];\n\n    @property(cc.Prefab)\n    next: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    fishSwim: cc.Prefab = null;\n\n    @property([cc.AudioClip])\n    sounds: cc.AudioClip[] = [];\n\n    protected selected: number = 0;\n\n    protected currentId : number = 0;\n    \n    //clickOption de ngan goi ham nhieu lan khi nguoi choi click lien tuc\n    protected clickOption : Boolean = true;\n\n    protected optionScene: cc.Node[][] = [[], [], []];\n\n    protected arrScene: cc.Node[] = [];\n\n    protected _gameManager: GameManager = null;\n\n    protected fail = null;\n    protected success = null;\n    protected shadow = null;\n    protected currentLine = null;\n    protected isTrue = true;\n\n    protected _money = 50;\n\n    protected _fishSwim = null;\n\n    protected _line = new cc.NodePool();\n    @property(cc.Node)\n    camera2d: cc.Node[] = [];\n\n    onLoad(): void {\n        this._gameManager = cc.find(\"Canvas/GameManager\").getComponent(\"GameManager\");\n        optionContainer = this._gameManager.optionContainer;\n        optionController = optionContainer.getComponent(\"OptionController\");\n        this.fail = this._gameManager.fail;\n        this.success = this._gameManager.success;\n        this.shadow = this._gameManager.shadow;\n        ui = this._gameManager._ui;\n        for (let camera of this.camera2d)\n        {\n            camera.active = false;\n        }\n\n        if (this.fishSwim && !this._fishSwim) {\n            this._fishSwim = cc.instantiate(this.fishSwim)\n            this._fishSwim.active = false\n            this.node.addChild(this._fishSwim)\n        }\n    }\n\n    onEnable(): void {\n        console.log((\"%c\" + this.node.name), \"color:blue\");\n        this.initOption();\n        this._gameManager._levelCurrent.script = this;\n        cc.log(this._gameManager._levelCurrent);\n        this.node.getChildByName(\"Background\").zIndex = cc.macro.MIN_ZINDEX;\n        this.initArrayScene();\n        //Khi scene ket thuc animation thi se ban dispatch\n        this.addEventCustom();\n        this.clickOption = true;\n        this.lupin.setSkin('Lupin')\n        this.initStage();\n        this.showOptionContainer(false);\n\n        this._fishSwim && (this._fishSwim.active = true)\n    }\n\n    onDisable(): void {\n        this.showOptionContainer(false);\n        this.removeEventCustom();\n        this.resetUIResult();\n        for (let node of this.node.children)\n        {\n            if (node.name.includes(\"Option\"))\n            {\n                node.active = false;\n            }\n        }\n\n        this._fishSwim && (this._fishSwim.active = false)\n        this._gameManager._home.updateCalendar();\n    }    \n\n    start(): void {\n        if (this.levelCurrent + 1 < TOTAL_LEVEL) {\n            let next = Number(this._gameManager._levelCurrent.level + 2);\n            let path = \"Level\" + next;\n            BundleManager.getInstance().getPrefabByName(path, null);\n        }\n    }\n\n    addEventCustom(): void {\n        this.node.on(\"request_next_scene\", this.nextScene, this);\n        this.node.on(\"show_continue\", this.onContinue, this);\n        this.node.on(\"next_stage\", this.nextStage, this);\n        this.node.on(\"back_to_stage_begin\", this.playStageBegin, this);\n        this.node.on(\"next_level\", this.endGame, this);\n    }\n\n    removeEventCustom(): void {\n        this.node.off(\"request_next_scene\", this.nextScene, this);\n        this.node.off(\"show_continue\", this.onContinue, this);\n        this.node.off(\"back_to_stage_begin\", this.playStageBegin, this);\n        this.node.off(\"next_stage\", this.nextStage, this);\n        this.node.off(\"next_level\", this.endGame, this);\n    }\n\n    checkNextSceneExits(index: number, option: number): cc.Node {\n        switch (option)\n        {\n            case 0:\n                return this.node.getChildByName(\"Option1_\" + (index + 1));\n            case 1:\n                return this.node.getChildByName(\"Option2_\" + (index + 1));\n            case 2:\n                return this.node.getChildByName(\"Option3_\" + (index + 1));\n            default:\n                cc.error(\"Khong co scene\");\n                break;\n        }\n    }\n\n    getInstantiate(index: number, option: number): cc.Node {\n        switch (option)\n        {\n            case 0:\n                return this.optionScene[0][index];\n            case 1:\n                return this.optionScene[1][index];\n            case 2:\n                return this.optionScene[2][index];\n            default:\n                cc.error(\"Khong co prefab\");\n                return null;\n        }\n    }\n\n    selectedButton(node) : void {\n        node.getChildByName(\"selected\").active = true;\n    }\n\n    resetUIResult(): void {\n        this.shadow.opacity = 0;\n        this.fail.opacity = 0;\n        this.fail.scale = 10;\n        this.success.opacity = 0;\n        this.success.scale = 10;\n    }\n\n    endGame(event: cc.Event.EventCustom): void {\n        if (this._gameManager._levelCurrent.level < TOTAL_LEVEL)\n            ++this._gameManager._levelCurrent.level;\n        //Mở khóa level sau\n        if ( this._gameManager._levelCurrent.level > this._gameManager._data.unlockedLevel)\n        {\n            this._gameManager._data.unlockedLevel = this._gameManager._levelCurrent.level;\n            Data.getData(Data.FACEBOOK_KEY, (err, data) => {\n                data.unlockedLevel = this._gameManager._levelCurrent.level\n                Data.saveData(data, Data.FACEBOOK_KEY);\n            })\n        }\n\n        this.resetUIResult();\n        this.showEndGame(event);\n    }\n\n    nextScene(event: cc.Event.EventCustom): void {\n        this._gameManager._currentScene.active = false;\n        \n        var newScene = this.checkNextSceneExits(this.currentId, this.selected);\n        if (newScene)\n        {\n            newScene.active = true;\n            this._gameManager._currentScene = newScene;\n            ++this.currentId;\n            return;\n        }\n\n        newScene = this.getInstantiate(this.currentId, this.selected);\n\n        if (newScene)\n        {\n            newScene.zIndex = -1;\n            this._gameManager._currentScene = newScene;\n            this.arrScene.push(newScene);\n            this.scheduleOnce(() => {\n                this.node.addChild(newScene);\n            }, 0.2);\n        }\n\n        ++this.currentId;\n    }\n\n    nextStage(sceneName: string): void {\n        if (this.next) {\n            for (let children of this.node.parent.children)\n            {\n                children.active = false;\n            }\n            var scene = this.node.parent.getChildByName(this.next.name);\n            if (scene)\n            {\n                scene.active = true;\n            }\n            else\n            {\n                scene = cc.instantiate(this.next);\n                this.node.parent.addChild(scene);\n            }\n            \n        }\n    }\n\n    initStage(): void {\n        cc.audioEngine.stopAllEffects();\n        this._gameManager.btnSetting.active = true;\n        this.currentId = 0;\n        this.clickOption = true;\n        this.camera2d[0].position = cc.v3(0, 0);\n        this.camera2d[0].getComponent(cc.Camera).zoomRatio = 1;\n        this.background.zIndex = cc.macro.MIN_ZINDEX;\n        this._gameManager.mainCamera.active = false;\n        for (let camera of this.camera2d)\n        {\n            camera.active = true;\n        }\n        this.lupin.timeScale = 1;\n        for (var spine of this.otherSpine)\n        {\n            spine.timeScale = 1;\n        }\n        this.background.position = cc.v3(0, 0);\n        this._gameManager.optionContainer.getComponent(\"OptionController\").resetOption();\n        this._gameManager._currentScene = this.sceneBegin;\n        optionController.setImageOption(this.iconOption);\n        ui.showUIEndGame(false);\n        this.resetUIResult();\n        EffectManager.showUI(true);\n        this.removeLineStage();\n        this.createLineStage(this.numberStage);\n        this.resultLineStage();\n        //Vì index bắt đầu từ 0 nên phải +1, +2 để ra level hiển thị\n        this.setLevel(this.levelCurrent + 1, this.levelCurrent + 2);\n        if ((this.levelCurrent + 1) % 5 == 0 && (this.levelCurrent) > 5) {\n            this._gameManager.btnSetting.x = -515;\n            this._gameManager.level.x = 50;\n        }\n        else\n        {\n            this._gameManager.btnSetting.x = -500;\n            this._gameManager.level.x = 0;\n        }\n        this.showOptionContainer(false);\n    }\n\n    hideAllScene(): void {\n        for (let children of this.node.children)\n        {\n            if (children.name != \"Background\")\n                children.active = false;\n        }\n    }\n\n    showEndGame(event: cc.Event.EventCustom): void {\n        ui.showUIIntroduce(false);\n        ui.showUIEndGame(true);\n    }\n\n    selectOption(event: cc.Event) : void {\n        this._gameManager.playSound(SOUND.CLICK, false);\n        this._gameManager.showGuide(false);\n        if (!this.clickOption)\n        {\n            cc.error(\"Khong duoc click lien tuc hoac chon dap an khac!!!\");\n            return;\n        }\n        this.clickOption = false;\n        switch (event.target.name)\n        {\n            case \"option1\":\n                this.selected = 0;\n                optionContainer.getChildByName(\"option1\").getChildByName(\"selected\").active = true;\n                this.runOption1();\n                break;\n            case \"option2\":\n                this.selected = 1;\n                optionContainer.getChildByName(\"option2\").getChildByName(\"selected\").active = true;\n                this.runOption2();\n                break;\n            case \"option3\":\n                this.selected = 2;\n                optionContainer.getChildByName(\"option3\").getChildByName(\"selected\").active = true;\n                this.runOption3();\n                break;\n            default:\n                cc.error(\"Khong co case phu hop!\");\n                break;\n        }\n        this.selectedButton(event.target);\n    }\n\n    runOption1(): void {\n    }\n\n    runOption2(): void {\n    }\n\n    runOption3(): void {\n    }\n\n    setLupin(position: cc.Vec2, emotion: string, action: string): void {\n        if (emotion) {\n            this.lupin.setAnimation(0, emotion, true);\n        }\n        if (action) {\n            this.lupin.setAnimation(1, action, true);\n        }\n        this.lupin.node.position = cc.v3(position);\n    }\n\n    setOtherSpine(other: sp.Skeleton, position: cc.Vec2, emotion: string, action: string): void {\n        if (emotion) {\n            other.setAnimation(0, emotion, true);\n        }\n        if (action) {\n            other.setAnimation(1, action, true);\n        }\n        if (position) {\n            other.node.position = cc.v3(position);\n        }\n    }\n\n    setOtherSprite(other: cc.Sprite, position: cc.Vec2): void {\n        other.node.position = cc.v3(position);\n    }\n\n    //Khởi tạo các prefab -> node rồi push vào mảng để sử dụng\n    initArrayScene(): void {\n        var sceneOptions = [this.sceneOption0, this.sceneOption1, this.sceneOption2]\n        for(var j = 0; j < 3; j++ ){\n            var tempArr = [];\n            if (this.optionScene[j].length == 0) {\n                for (var i = 0; i < sceneOptions[j].length; ++i)\n                {\n                    tempArr.push(cc.instantiate(sceneOptions[j][i]));\n                }\n                this.optionScene[j] = tempArr;\n            }\n        }\n    }\n\n    //Khởi tạo event cho các nút\n    initOption(): void {\n        for (let i = 0; i < 3; ++i)\n        {\n            optionController.setOption(i, this.node, this.node.name, \"selectOption\");\n        }\n    }\n\n    showOptionContainer(isShow: boolean): void {\n        if (isShow)\n        {\n            EffectManager.effectScaleOption(optionContainer, 0.7)\n        }\n        optionContainer.active = isShow;\n    }\n\n    showFail(option: number): void {\n        GameManager.logFailed(this.levelCurrent, this.stageCurrent, option)\n        // GameManager.logEvent(`Failed L${this.levelCurrent + 1} S${this.stageCurrent + 1}-${option + 1}`)\n        cc.audioEngine.stopAllEffects()\n        tween(this.node).call(() => {\n                            this.lupin.timeScale = 0;\n                            for (let spine of this.otherSpine)\n                            {\n                                spine.timeScale = 0;\n                            }\n                            EffectManager.showX(option, this.getLineCurrent());\n                        })\n                        .delay(1)\n                        .call(() => {\n                            this.scheduleOnce(() => {\n                                this._gameManager.playSound(SOUND.FAIL_STAGE, false);\n                            }, 0.15);\n                            this._gameManager.btnSetting.active = false;\n                            this.lupin.timeScale = 0;\n                            for (let spine of this.otherSpine)\n                            {\n                                spine.timeScale = 0;\n                            }\n                            EffectManager.effectFail();\n                            EffectManager.showUI(false);\n                        })\n                        .delay(2)\n                        .call(() => {\n                            EffectManager.hideScene(EventManager.sendRequestReset, this.node);\n                        }).start();\n    }\n\n    showSuccess(option: number): void {\n        GameManager.logPassed(this.levelCurrent, this.stageCurrent, option)\n        // GameManager.logEvent(`Passed L${this.levelCurrent + 1}`)\n        cc.audioEngine.stopAllEffects()\n        tween(this.node).call(() => {\n                        EffectManager.showTick(option, this.getLineCurrent());\n                    })\n                    .delay(1)\n                    .call(() => {\n                        this.scheduleOnce(() => {\n                            this._gameManager.playSound(SOUND.SUCCESS_LEVEL, false);\n                        }, 0.2);\n                        this._gameManager.btnSetting.active = false;\n                        EffectManager.effectSuccess();\n                        EffectManager.showUI(false);\n                        this.lupin.timeScale = 0;\n                        for (let spine of this.otherSpine)\n                        {\n                            spine.timeScale = 0;\n                        }\n                    })\n                    .delay(2)\n                    .call(() => {\n                        EventManager.sendRequestResult(this.node);\n                    })\n                    .start();\n    }\n\n    setCamera(camera: cc.Node, positon: cc.Vec2, zoomRatio: number): void {\n        camera.active = true;\n        camera.position = cc.v3(positon);\n        camera.getComponent(cc.Camera).zoomRatio = zoomRatio;\n    }\n\n    stopAction(): void {\n        for (let spine of this.otherSpine)\n        {\n            spine.timeScale = 0;\n        }\n    }\n\n    setTimeScaleAllSpine(timeScale: number): void {\n        for (let spine of this.otherSpine)\n        {\n            spine.timeScale = timeScale;\n        }\n        this.lupin.timeScale = timeScale;\n    }\n\n    onContinue(event: cc.Event.EventCustom): void {\n        this._gameManager.mainCamera.active = true;\n        this.resetUIResult();\n        this._gameManager._ui.showUIContinue(true);\n    }\n\n    playStageBegin(): void {\n        if (this.node.parent.name != \"GameContainer\")\n        {\n            for (let children of this.node.parent.children)\n            {\n                children.active = false;\n            }\n        }\n        var beginScene = this.getBeginSceen();\n        if (beginScene) {\n            beginScene.active = true;\n            if (this.node.parent.name == \"GameContainer\")\n            {\n                this.initStage();\n            }\n            else\n            {\n                this.background.active = true;\n            }\n        }\n    }\n\n    setBeginSceen(node: cc.Node): void {\n        this._gameManager._beginScene = node;\n    }\n\n    getBeginSceen(): cc.Node {\n        return this._gameManager._beginScene;\n    }\n\n    setLevel(current: number, next: number): void {\n        this._gameManager.setLevel(current, next);\n    }\n    \n    createLineStage(numberStage: number): void {\n        let level = cc.find(\"Canvas/Level\");\n        level.getChildByName(\"Start\").zIndex = cc.macro.MIN_ZINDEX;\n        level.getChildByName(\"Current\").zIndex = cc.macro.MAX_ZINDEX;\n        for (let i = 0; i < numberStage; ++i)\n        {\n            let line;\n            if (this._line.size() > 0)\n            {\n                line = this._line.get();\n            }\n            else\n            {\n                line = cc.instantiate(this.line);\n            }\n            line.zIndex = 0 + i;\n            cc.find(\"Canvas/Level\").addChild(line);\n        }\n    }\n\n    removeLineStage(): void {\n        let line = cc.find(\"Canvas/Level\").children;\n        for (let i = 0; i < line.length; ++i)\n        {\n            let children = line[i];\n            if (children.name != \"Start\" && children.name != \"Current\")\n            {\n                for (let child of children.children)\n                {\n                    child.active = false;\n                }\n                this._line.put(children);\n                --i;\n            }\n        }\n        // for (let i = 0; i < line.length; ++i)\n        // {\n        //     if (line[i].name != \"Start\" && line[i].name != \"Current\")\n        //     {\n        //         cc.find(\"Canvas/Level\").removeChild(line[i], true);\n        //     }\n        // }\n    }\n\n    resultLineStage(): void {\n        let level = cc.find(\"Canvas/Level\");\n        let count = 0;\n        // Lặp từ 1 đến length - 2 vì node đầu là Start và node cuối là Current\n        for (let i = 1; i < level.children.length - 1; ++i)\n        {\n            if (level.children[i].name == \"Line\" && count < this.stageCurrent)\n            {\n                ++count;\n                level.children[i].getChildByName(\"TrueAnswer\").active = true;\n            }\n        }\n    }\n\n    //Lấy line để hiển thị true/false của option\n    // +2 vì 1 node là Start + \n    getLineCurrent(): cc.Node {\n        let level = cc.find(\"Canvas/Level\");\n        return level.children[this.stageCurrent + 1];\n    }\n\n    nextLevel(): void {\n        tween(this.node).call(() => {\n                EffectManager.showTick(this.selected, this.getLineCurrent());\n            })\n            .delay(1)\n            .call(() => {\n                this.lupin.timeScale = 0;\n                for (let spine of this.otherSpine)\n                {\n                    spine.timeScale = 0;\n                }\n                EffectManager.effectSuccess();\n                EffectManager.showUI(false);\n            })\n            .delay(2)\n            .call(() => {\n                EventManager.sendRequestResult(this.node);\n            })\n            .start();\n    }\n\n    showContinue(): void {\n        GameManager.logFailed(this.levelCurrent, this.stageCurrent, this.selected)\n        // GameManager.logEvent(`Failed L${this.levelCurrent + 1} S${this.stageCurrent + 1}-${this.selected + 1}`)\n        cc.audioEngine.stopAllEffects();\n        this.lupin.timeScale = 0;\n        this.otherSpine.forEach(spine => {\n            spine.timeScale = 0;\n        })\n        tween(this.node).call(() => {\n            EffectManager.showX(this.selected, this.getLineCurrent());\n        })\n        .delay(1)\n        .call(() => {\n            this.scheduleOnce(() => {\n                this._gameManager.playSound(SOUND.FAIL_STAGE, false);\n            }, 0.15);\n            EffectManager.effectFail();\n            EffectManager.showUI(false);\n        })\n        .delay(2)\n        .call(() => {\n            EventManager.sendRequestContinue(this.node);\n        }).start();\n    }\n\n    onPass(): void {\n        GameManager.logPassed(this.levelCurrent, this.stageCurrent, this.selected)\n        // GameManager.logEvent(`Passed L${this.levelCurrent + 1}_S${this.stageCurrent + 1}`)\n\n        cc.audioEngine.stopAllEffects()\n        tween(this.node).call(() => {\n            EffectManager.showTick(this.selected, this.getLineCurrent());\n        })\n        .delay(1)\n        .call(() => {\n            this._gameManager.btnSetting.active = false;\n            this.scheduleOnce(() => {\n                this._gameManager.playSound(SOUND.SUCCESS_STAGE, false);\n            }, 0.2);\n            EffectManager.effectSuccess();\n            EffectManager.showUI(false);\n            this.lupin.timeScale = 0;\n            this.otherSpine.forEach(spine => {\n                spine.timeScale = 0;\n            });\n        })\n        .delay(2)\n        .call(() => {\n            EventManager.sendRequestNextStage(this.node);\n        })\n        .start();\n    }\n\n    showComingSoon(): void {\n        this.resetUIResult();\n        this._gameManager.playSound(SOUND.SUCCESS_LEVEL, false);\n        EffectManager.showTick(this.selected, this.getLineCurrent());\n        ++this._gameManager._levelCurrent.level;\n        if ( this._gameManager._levelCurrent.level > this._gameManager._data.unlockedLevel)\n        {\n            this._gameManager._data.unlockedLevel = this._gameManager._levelCurrent.level;\n            Data.saveData(this._gameManager._data, Data.FACEBOOK_KEY);\n            Data.saveData(this._gameManager._data, Data.LOCAL_KEY);\n        }\n        this._gameManager.btnSetting.active = false;\n        this._gameManager._ui.showComingSoon();\n    }\n\n    playSound(soundId: number, loop: boolean, delay: number) {\n        Data.getData(Data.LOCAL_KEY, (err, data) => {\n            if (data.isSound)\n            {\n                this.scheduleOnce(()=>{\n                    cc.audioEngine.playEffect(this.sounds[soundId], loop)\n                },delay)\n            }\n        });\n        \n\n    }\n\n}\n"]}