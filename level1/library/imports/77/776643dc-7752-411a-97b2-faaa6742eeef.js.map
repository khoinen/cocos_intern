{"version":3,"sources":["assets/Levels/Level19/Script/Level19_1.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import LevelBase from \"../../../Scripts/LevelBase\";\n\nconst {ccclass, property} = cc._decorator;\nconst tween = cc.tween;\n\nenum SOUND {\n    DIZZY,\n    SWOOSH,\n    WATER,\n    BITE,\n    FREEZE,\n    LIKE,\n    PEEK\n}\n\n@ccclass\nexport default class Level19_1 extends LevelBase {\n\n    private _cano;\n    private _oldMan;\n    private _shark;\n\n    onEnable(): void {\n        super.onEnable();\n        this._gameManager._levelCurrent.level = this.levelCurrent;\n        this._gameManager._beginScene = this.node;\n    }\n\n    initStage(): void {\n        super.initStage();\n        this.setStatus();\n        this.setAction();\n    }\n\n    setStatus(): void {\n        this._oldMan = this.otherSpine[0];\n        this._cano = this.otherSpine[1];\n        this._shark = this.otherSpine[2];\n\n        this._oldMan.node.scaleX = -0.8;\n        this._oldMan.node.scaleY = 0.8;\n        this._cano.node.scale = 1;\n\n        this.setOtherSpine(this._shark, cc.v2(-800, -1030), \"shark_move\", null);\n        this.setOtherSpine(this._oldMan, cc.v2(-400, -665), \"old_man/level_19_1/old_man_idle\", null);\n        this.setOtherSpine(this._cano, cc.v2(-213, -765), \"level_19/cano_idle\", null);\n        this.lupin.clearTrack(1);\n        this.setLupin(cc.v2(750, -1900), \"level_19_1/mc_swim_idle\", null);\n    }\n\n    setAction(): void {\n        tween(this.lupin.node).to(3, {position: cc.v3(375, -1130)}, {easing: \"cubicInOut\"})\n            .delay(1)\n            .call(() => {\n                this.showOptionContainer(true);\n            })\n            .start();\n    }\n\n    runOption1(): void {\n        this.lupin.setMix(\"level_19_1/mc_swim_idle\", \"level_19_1/mc_lifting_fish\", 0.3);\n        this._oldMan.setMix(\"old_man/level_19_1/old_man_idle\", \"old_man/level_19_1/old_man_happy\", 0.3);\n        this._oldMan.setMix(\"old_man/level_19_1/old_man_happy\", \"old_man/level_19_1/old_man_welcome\", 0.3);\n        this.lupin.setAnimation(0, \"level_19_1/mc_lifting_fish\", false);\n        this.lupin.setCompleteListener(track => {\n            if (track.animation.name == \"level_19_1/mc_lifting_fish\") {\n                this.lupin.setCompleteListener(null);\n                this.playSound(SOUND.LIKE, false, 0.3);\n                this._oldMan.setAnimation(0, \"old_man/level_19_1/old_man_happy\", true);\n                this._oldMan.addAnimation(0, \"old_man/level_19_1/old_man_welcome\", true);\n                this._oldMan.setCompleteListener(track => {\n                    if (track.animation.name == \"old_man/level_19_1/old_man_welcome\") {\n                        this._oldMan.setCompleteListener(null);\n                        this.lupin.setAnimation(1, \"emotion/happy_2\", true);\n                        tween(this.lupin.node).delay(1)\n                            .call(() => {\n                                this.onPass();\n                            })\n                            .start();\n                    }\n                })\n            }\n        })\n    }\n\n    runOption2(): void {\n        this.lupin.setAnimation(0, \"level_19_1/mc_jumping_boat\", false);\n        this.playSound(SOUND.SWOOSH, false, 0);\n        tween(this.lupin.node).parallel(\n            tween().to(0.5, {scaleX: -0.8}),\n            tween().to(0.5, {scaleY: 0.8}),\n            tween().bezierTo(0.5, cc.v2(this.lupin.node.x, this.lupin.node.y), cc.v2(-100, -450), cc.v2(-200, -685))\n                .call(() => {\n                    this._oldMan.node.scaleX = -0.8;\n                    this._oldMan.setAnimation(0, \"police/level_12/old_man_attack\", false);\n                    this.playSound(SOUND.FREEZE, false, 0.6);\n                    tween(this.lupin.node).delay(0.6)\n                        .call(() => {\n                            this.lupin.node.scaleX = -0.8;\n                            this.lupin.setAnimation(0, \"level_19_1/mc_get_hit\", false);\n                            this.playSound(SOUND.WATER, false, 0.7);\n                            this.lupin.setCompleteListener(track => {\n                                if (track.animation.name == \"level_19_1/mc_get_hit\") {\n                                    this.lupin.setCompleteListener(null);\n                                    tween(this.lupin.node).by(2, {position: cc.v3(0, -500)}, {easing: \"cubicOut\"})\n                                        .call(() => {\n                                            this.showFail(this.selected);\n                                        }).start();\n                                }\n                            })\n                        })\n                        .start();\n                })\n        )\n        .start();\n    }\n\n    runOption3(): void {\n        this.lupin.setMix(\"level_19_1/mc_swim_idle\", \"level_19_1/mc_swim_gun\", 0.3);\n        this.lupin.setAnimation(0, \"level_19_1/mc_swim_gun\", false);\n        this.lupin.setAnimation(1, \"emotion/sinister\", true);\n        this.lupin.setCompleteListener(track => {\n            if (track.animation.name == \"level_19_1/mc_swim_gun\") {\n                this.lupin.setCompleteListener(null);\n                this.playSound(SOUND.PEEK, false, 0);\n                this._oldMan.setAnimation(0, \"old_man/level_19_1/old_man_scare\", false);\n                tween(this._shark.node).delay(1).to(1, {position: cc.v3(200, -1030)})\n                    .call(() => {\n                        this._shark.timeScale = 1.5;\n                        this.playSound(SOUND.BITE, false, 0.1);\n                        this._shark.setAnimation(0, \"shark_attack\", false);\n                        this._shark.setCompleteListener(track => {\n                            if (track.animation.name == \"shark_attack\") {\n                                this._shark.setCompleteListener(null);\n                                // tween(this._shark.node).by(0.2, {position: cc.v3(200, -500)}).start();\n                            }\n                        })\n                    })\n                    .delay(0.2)\n                    .call(() => {\n                        tween(this.lupin.node).to(0.2, {position: cc.v3(765, -1560)})\n                            .call(() => {\n                                this.showFail(this.selected);\n                            })\n                            .start();\n                    })\n                    .start();\n            }\n        })\n    }\n}\n"]}